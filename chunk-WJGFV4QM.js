import{e as S,g as x,i as y,j as R,k as I,l as N,m as E,o as L,p as T}from"./chunk-5PRWH3IR.js";import{B as d,Eb as a,Fb as v,Gb as p,Ma as u,Oa as n,Pa as l,Xa as g,Xb as O,ab as f,hb as h,lb as _,mb as C,nb as M,o as m,ob as o,pb as r,qb as s,ub as P,zb as b}from"./chunk-IN3Y2CJX.js";var k=(i,e)=>e.id;function w(i,e){if(i&1&&(o(0,"article",2)(1,"header")(2,"h1")(3,"a",4),a(4),r()(),o(5,"aside")(6,"h3"),s(7,"mat-icon",5),a(8),r(),o(9,"h3"),s(10,"mat-icon",6),a(11),r(),o(12,"h3"),s(13,"mat-icon",7),a(14),r()()(),o(15,"section",8)(16,"h4"),a(17),r(),o(18,"p"),a(19),r()()()),i&2){let t=e.$implicit;n(3),b("href",t.html_url,u),n(),v(t.name),n(4),p(" ",t.stargazers_count||0," "),n(3),p(" ",t.fork_count||0," "),n(3),p(" ",t.open_issues_count||0," "),n(3),p("Language: ",t.language||"Unknown",""),n(2),p("Description: ",t.description||"None","")}}function D(i,e){i&1&&s(0,"app-footer",3)}var U=class i{constructor(e,t,c,$){this.route=e;this.githubService=t;this.router=c;this.notificationService=$}userLogin="";userName="";userType="";pageNumber=1;userRepos=[];loading=!1;reposComplete=!1;reposSubscription$;queryParamsSubscription$;ngOnInit(){this.queryParamsSubscription$=this.route.queryParams.subscribe(e=>{this.userLogin=e.login,this.userType=e.type,this.userName=e.name,this.userLogin||this.router.navigate(["/"]),this.loadRepos()})}loadRepos(){this.loading=!0,this.reposSubscription$=this.githubService.getRepositories(this.userLogin,this.pageNumber).pipe(d(e=>(this.loading=!1,this.notificationService.showError(e),m(()=>new Error(e))))).subscribe(e=>{e.length!==0?(this.pageNumber++,this.userRepos.push(...e)):this.reposComplete=!0,this.loading=!1})}onScrollLoad(){!this.reposComplete&&!this.loading&&this.loadRepos()}ngOnDestroy(){this.queryParamsSubscription$.unsubscribe(),this.reposSubscription$.unsubscribe()}static \u0275fac=function(t){return new(t||i)(l(S),l(L),l(x),l(T))};static \u0275cmp=g({type:i,selectors:[["app-user-repos"]],decls:5,vars:3,consts:[[3,"showHomeLink","title"],["appScrollable","",1,"container",3,"triggerReached"],[1,"card"],[1,"section-footer"],[3,"href"],["fontIcon","star"],["fontIcon","fork_right"],["fontIcon","bug_report"],[1,"detail"]],template:function(t,c){t&1&&(s(0,"app-header",0),o(1,"section",1),P("triggerReached",function(){return c.onScrollLoad()}),C(2,w,20,7,"article",2,k),f(4,D,1,0,"app-footer",3),r()),t&2&&(h("showHomeLink",!0)("title","- Github Repositories for "+c.userName+" ("+c.userType+")"),n(2),M(c.userRepos),n(2),_(c.loading?4:-1))},dependencies:[O,R,y,I,N,E],styles:[".container[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex:1;flex-direction:column}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{background-color:#3e067f;border-radius:10px 10px 0 0;display:flex;padding:0 16px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{color:#fde4ff;display:flex}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{align-items:center;display:flex;padding-right:8px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{padding:8px 16px}"]})};export{U as UserReposComponent};
